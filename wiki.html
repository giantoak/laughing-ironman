<!DOCTYPE html>
<head>
 <script type="text/javascript" src=force-graph.js></script> 
 <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
 <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
 <style>
.link {
  fill: none;
  stroke: #333;
  stroke-width: 0.1px;
}

.node {
  stroke-width: 1.5px;
}

.node.entity {
  stroke: #000;
  fill: #FFF;
}

.node.document {
  stroke: #333;
  fill: #333;
}

text {
  font: 10px sans-serif;
  pointer-events: none;
  text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;
}
 </style>
</head>
<body>


<div id="viz-container"></div>


<script type="text/javascript">
 $(document).ready(function() {
     "use strict";
  
     var width = $("#viz-container").parent().width(),
         height = 960,
         svg = d3.select("#viz-container").append("svg")
                 .attr("width", width)
                 .attr("height", height),
         graph_export_data,
         graph = NetworkGraph()
                 .width(width)
                 .height(height)
                 .type("entity")
                 .gravity(.2);
     $.get('wiki?query=Madoff', function(data) {
             var graph_data = JSON.parse(data);
            console.log(graph_data);     
             svg.datum(graph_data)
                     .call(graph);
             graph_export_data = graph.getExport();
     });
    
});
</script>
</body>
</html>
